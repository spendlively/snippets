
////////////////////////////////////
///////Туннель из сети в мир////////
////////////////////////////////////
//ssh
На хосте 192.168.1.1
ssh -f -N -R 2222:192.168.1.1:22 user@77.77.77.77

На хосте 77.77.77.77:
ssh -p2222 localhost (попадём на хост 192.168.1.1)

//То есть
77.77.77.77 -> 192.168.1.1
(получили доступ с 77.77.77.77 к 192.168.1.1)



//80
На хосте 192.168.1.1
ssh -f -N -R 2080:192.168.1.1:80 user@77.77.77.77

На хосте 77.77.77.77:
wget http://localhost:2080
получим дамп web-ресурса на 192.168.1.1
или
wget http://77.77.77.77:2080





////////////////////////////////////
///////Туннель из мира в сеть///////
////////////////////////////////////
На хосте 192.168.1.1
ssh -f -N -L 4080:192.168.1.1:80 nameuser@77.77.77.77

На своём хосте:
wget http://localhost:4080 (получаем доступ к web-ресурсу 192.168.1.1, который находится за хостом 77.77.77.77)

//То есть
localhost -> 77.77.77.77 -> 192.168.1.1
(получили доступ с localhost через 77.77.77.77 к 192.168.1.1)





///////////////////////////////////////////////////////////////////////////////////////////////
///////Туннель из мира в сеть, если на 77.77.77.77 прокинут порт 22101 на целевой сервер///////
///////////////////////////////////////////////////////////////////////////////////////////////
На хосте 192.168.20.107
ssh -f -N -R 2222:192.168.20.107:22 spendmail@77.77.77.77 -p22101

На целевом хосте (предварительно проверить что открыт порт 2222)
ssh -p2222 spendlively@localhost
