
////////
//ACID//
////////
 - акроним из 4х принципов высоконадежной транзакционной системы

//Атомарность
 - система переходит из одного согласованного состояния в другое (или возвращается)

//Согласованность
 - части системы не противоречат
 - если откуда-то деньги списались, куда-то они должны зачислиться

//Изоляция
 - конкурентные транзакции не влияют на работу друг друга

//Долговечность
 - устойчивость к сбоям
 - данные пишутся про очереди в
    - Write Ahead Log (WAL)
    - буферный кэш
    - на диск
 - в случае краха, данные восстановятся из WAL


///////////////////////
//Как реализован ACID//
///////////////////////
//Блокировки
 - shared и exclusive
 - SELECT ... FOR UPDATE
 - SELECT ... LOCK IN SHARE MODE

//ARIAS - Algorithms of Recovery and Isolation...
 - журналирование
 - undo/redo
 - чек поинты

//MVCC
 - каждый пользователь работает с копией данных
 - каждый кортеж (строка) имеет 2 скрытых поля
    - xmin - идентификатор транзакции кот создала данные
    - xmax - идентификатор транзакции кот удалила данные

