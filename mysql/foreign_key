

Действия ON DELETE и ON UPDATE

1. NO ACTION
 - когда родительский ключ изменяется или удаляется из базы данных,
никаких специальных действий не производится.

2. RESTRICT:
 - приложению запрещается удалять (для ON DELETE RESTRICT)
или изменять (для ON UPDATE RESTRICT) родительский ключ,
когда существует один или несколько ссылающихся на него дочерних ключей.
 - Различие между эффектом от действия RESTRICT и
обычным поведением внешнего ключа заключается в том,
что действие RESTRICT запускается тогда, когда изменяется поле записи,
а не тогда, когда завершается текущий запрос, как в случае немедленного ограничения,
и не тогда, когда завершается текущая транзакция, как в случае отложенного ограничения.
Даже если внешний ключ был заявлен как отложенный, если его действием был объявлен RESTRICT, то SQLite будет выдавать сообщение об ошибке немедленно, как только удаляется или изменяется родительский ключ, от которого зависят дочерние ключи.
3. SET NULL: если действие сконфигурировано как «SET NULL», то при удалении родительского ключа (для ON DELETE SET NULL) или его изменении (для ON UPDATE SET NULL) столбцы дочернего ключа будут устанавливаться в значение NULL во всех строках дочерней таблицы, которые ссылаются на удаляемую/изменяемую строку родительской таблицы.
4. SET DEFAULT: действие «SET DEFAULT» похоже на SET NULL за тем исключением, что значение каждого столбца дочернего ключа устанавливается не в NULL а в значение по умолчанию для данного столбца. О том, как столбцам назначаются значения по умолчанию, можно узнать в подробной документации по CREATE TABLE.
5. CASCADE: действие «CASCADE» распространяет операции удаления и изменения родительского ключа на зависящие от него дочерние ключи. Для действия ON DELETE CASCADE это выражается в том, что каждая строка дочерней таблицы, которая ассоциирована с удаляемой родительской строкой, также будет удалена. Для действия ON UPDATE CASCADE это выражается в том, что значения, сохранённые в зависящем дочернем ключе, будут заменены на новые значения родительского ключа.