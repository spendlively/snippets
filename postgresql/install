
////////////////////////////////////////////////////////////////
//////////////////////////Установка////////////////////////////
////////////////////////////////////////////////////////////////
sudo apt-get update
sudo apt-get install postgresql postgresql-contrib phppgadmin

//Запуск
sudo -i -u postgres
psql
//или
sudo -u postgres psql

//Установка пароля
\password postgres
//или
ALTER USER postgres PASSWORD 'passme';





////////////////////////////////////////////////////////////////
//////////////////////////PhpPgAdmin////////////////////////////
////////////////////////////////////////////////////////////////
//Отредактировать файл /etc/apache2/conf-available/phppgadmin.conf
#Require local #Закомментировать
Allow From all #Добавить

//Отредактировать файл /etc/phppgadmin/config.inc.php
$conf['extra_login_security'] = true;
//Заменить на
$conf['extra_login_security'] = false;
//Чтобы можно было заходить через веб

//Перезагрузить сервер
sudo systemctl restart apache2.service

//Зайти
http://localhost/phppgadmin/





//Команды
//Из под пользователя postgres командной строки
psql -l #список баз данных
psql -d template1 #подключение к БД template1
psql -f file.sql #выполнение команд из файла
psql -U postgres -d template1 -c "" #выполнение команды в базе dbname
psql -d template1 -H -c "SELECT * FROM test" -o test.html #вывод в html-файл

//Из под терминала psql
\? \\Подсказка
\c template1 \\подсоединение к БД dbname.
\l \\список баз данных.
\dt \\список всех таблиц.
\d table \\структура таблицы table.
\du \\список всех пользователей и их привилегий.
\dt+ \\список всех таблиц с описанием.
\dt *s* \\список всех таблиц, содержащих s в имени.
\i FILE \\выполнить команды из файла FILE.
\o FILE \\сохранить результат запроса в файл FILE.
\a \\переключение между режимами вывода: с/без выравнивания.



//Создание/удаление роли
//Создание/удаление базы данных
//Создание/удаление таблицы
