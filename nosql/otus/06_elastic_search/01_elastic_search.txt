
//////////////////
//Основы Elastic//
//////////////////
— документо-ориентированная БД
— стек — Java + Apache Lucene
— взаимодействие — REST API + JSON
— гибкая конфигурация типов данных
(от автоматического вывода до строгих ограничений)
— огромные возможности поиска,
в т.ч. полнотекстового, в т.ч. на русском языке

//Особенности Elasticsearch
— требуются быстрые и ёмкие диски
— повышенное потребление ресурсов
— не гарантируется согласованность данных
— не рекомендуется использовать ES в качестве основной БД

//Для чего можно использовать Elasticsearch
— сбор, хранение и анализ логов
— работа с метриками, в том числе бизнес-метриками
— полнотекстовый поиск по документам
— работа с картами и гео-данными

//Компоненты Elastic Stack
 - Beats - Агенты–поставщики данных
 - Logstash - Парсер + буфер событий
 - Elasticsearch - Непосредственно база данных
 - Kibana - Визуализация и анализ данных
 - X-Pack - Безопасность, оповещения, отчёты, ML…

//Порядок
 - Beats и Logstash закидывают данные в Elasticsearch
 - Beats - берут данные с устройства/программы, преобразуют в json и прокидывает дальше
 - Logstash - принимает данные из логов, преобразовывает и прокидывает дальше
 - Kibana визуализирует их

//Связки
//1. Базовый вариант
 - Beats берет данные из apache/nginx/...
 - Beats пишет данные напрямую в Elastic
//2. Стандартный вариант
 - Beats берет данные
 - Beats пишут данные в logstash
 - logstash накапливает данные, обогащает и отправляет в elastic
//3. Разделение индексации и сбора данных
Beats -> [logstash] -> Kafka -> logstash -> elastic


//Ключевые концепции
 - Индекс = База данных
 - Документ = Запись в индексе
 - Mapping = Типы данных для конкретных полей документов

//Минусы в связи с тем, что Elastic работает на Java?
 — работа в виртуальной машине
 — сборщик мусора
 — риски OutOfMemory - если памяти не хватает, java падает вместе с ES
 - при запуске эластику надо дать минимум 4гб озу

//Postman
 - инструмент для rest api запросов
